### Changelog

All notable changes to this project will be documented in this file. Dates are displayed in UTC.

Generated by [`auto-changelog`](https://github.com/CookPete/auto-changelog).

#### [v0.6.0](https://github.com/rancher/elemental-operator/compare/v0.5.0...v0.6.0)

> 23 September 2022

- support command improvements [`#173`](https://github.com/rancher/elemental-operator/pull/173)
- Add sbom to releases and attach to containers [`#160`](https://github.com/rancher/elemental-operator/pull/160)
- register: build it with CGO [`#169`](https://github.com/rancher/elemental-operator/pull/169)
- tests(registration): More unit tests [`#167`](https://github.com/rancher/elemental-operator/pull/167)
- Rework client to accept a ClientInterface [`#166`](https://github.com/rancher/elemental-operator/pull/166)
- tests(inventory): Add unit tests for inventory methods [`#164`](https://github.com/rancher/elemental-operator/pull/164)
- Add simple changelog [`#158`](https://github.com/rancher/elemental-operator/pull/158)
- operator: explicitly add Secrets to registration ServiceAccounts [`#176`](https://github.com/rancher/elemental-operator/issues/176)
- register/operator: drop MachineInventory labels passed from the client [`#161`](https://github.com/rancher/elemental-operator/issues/161)
- unit-tests: add support to Secrets in registraion's  OnChange() [`f022acb`](https://github.com/rancher/elemental-operator/commit/f022acb6a3c1b17ff27bc50add5ef6cd1762a7c5)
- unit-tests: check default machine name [`01afffd`](https://github.com/rancher/elemental-operator/commit/01afffd0e217d3c824d6998c54ad7bf337c79f82)
- go mod tidy [`a4ad41f`](https://github.com/rancher/elemental-operator/commit/a4ad41f3774de43088c7c29aa8dd7b2bcc6cb982)

#### [v0.5.0](https://github.com/rancher/elemental-operator/compare/v0.4.4...v0.5.0)

> 2 September 2022

- Configure custom smbios data [`#157`](https://github.com/rancher/elemental-operator/pull/157)
- Add extra labels with smbios data [`#155`](https://github.com/rancher/elemental-operator/pull/155)
- Fix secretname for the apiService [`#153`](https://github.com/rancher/elemental-operator/pull/153)
- drop unused labels on bootstrap [`#154`](https://github.com/rancher/elemental-operator/pull/154)
- Fix missing cosign and run command [`#151`](https://github.com/rancher/elemental-operator/pull/151)
- Enable deploying operator replicas [`#150`](https://github.com/rancher/elemental-operator/pull/150)
- operator/register: rework the registration protocol [`#5`](https://github.com/rancher/elemental-operator/issues/5)
- register: take control of the registration process [`4ce5d77`](https://github.com/rancher/elemental-operator/commit/4ce5d77900a2cf8437f680061381261fdf12ca09)
- unit-tests: add websocket coverage [`03628b7`](https://github.com/rancher/elemental-operator/commit/03628b79dac6add5f3be466fd04d70ca25421307)
- operator/register: drop unused code [`fa5f689`](https://github.com/rancher/elemental-operator/commit/fa5f689e20d7132f7934145bed1e5c8e034d38c2)

#### [v0.4.4](https://github.com/rancher/elemental-operator/compare/v0.4.3...v0.4.4)

> 31 August 2022

- Add image signing to push jobs [`#148`](https://github.com/rancher/elemental-operator/pull/148)
- Add local plan to rancher-system-agent to stop elemental-system-agent [`#146`](https://github.com/rancher/elemental-operator/pull/146)
- Fix e2e discovery tests [`#138`](https://github.com/rancher/elemental-operator/pull/138)
- log: report elemental installation completion [`f0bd8f4`](https://github.com/rancher/elemental-operator/commit/f0bd8f48d26ad2bf01b6a3ff3facaa7fca55b4df)

#### [v0.4.3](https://github.com/rancher/elemental-operator/compare/v0.4.2...v0.4.3)

> 12 August 2022

- Backwards compatibility for smbios headers [`#137`](https://github.com/rancher/elemental-operator/pull/137)
- Only decode some smbios data [`#134`](https://github.com/rancher/elemental-operator/pull/134)
- Drop uneeded files and add extra label [`#135`](https://github.com/rancher/elemental-operator/pull/135)
- Split header into 7Kb of data [`#133`](https://github.com/rancher/elemental-operator/pull/133)
- Add auto labeler [`#125`](https://github.com/rancher/elemental-operator/pull/125)
- Remove default value for flag and expand description [`#126`](https://github.com/rancher/elemental-operator/pull/126)
- [chart] only add default-registry if specified [`#128`](https://github.com/rancher/elemental-operator/pull/128)
- Store binary artifacts on PR/master [`#127`](https://github.com/rancher/elemental-operator/pull/127)
- [tests] fix nginx deploy url [`#129`](https://github.com/rancher/elemental-operator/pull/129)
- Bundle support bin with register [`#124`](https://github.com/rancher/elemental-operator/pull/124)
- Set the proper namespace [`#117`](https://github.com/rancher/elemental-operator/pull/117)
- Add CAs to docker artifact [`#120`](https://github.com/rancher/elemental-operator/pull/120)
- Store all registration data on installation [`#116`](https://github.com/rancher/elemental-operator/pull/116)
- Set fixed hostname and make it persistent [`#106`](https://github.com/rancher/elemental-operator/pull/106)
- Add 'support' to 'make build' [`#111`](https://github.com/rancher/elemental-operator/pull/111)
- Add a elemental-support binary [`#109`](https://github.com/rancher/elemental-operator/pull/109)
- Add missing register commadn to bootstrap [`#104`](https://github.com/rancher/elemental-operator/pull/104)
- Couple of tests for config mapstructure [`#102`](https://github.com/rancher/elemental-operator/pull/102)
- Produce 2 binaries instead of one [`#99`](https://github.com/rancher/elemental-operator/pull/99)
- Push master merges to elemental-operator-ci [`#100`](https://github.com/rancher/elemental-operator/pull/100)
- Add missing mapstructure annotations to config [`#101`](https://github.com/rancher/elemental-operator/pull/101)
- Set fixed hostname and make it persistent (#106) [`#221`](https://github.com/rancher/elemental/issues/221)
- operator: pass all the registration fields on unauthenticated query [`5f07c44`](https://github.com/rancher/elemental-operator/commit/5f07c444e3e4d4d1d9033bfc4192231e70ebbd25)
- operator: drop duplicated MachineInventory init code [`2d5fde7`](https://github.com/rancher/elemental-operator/commit/2d5fde7da0ad72f73cfecb438bcd05e329c0312c)

#### [v0.4.2](https://github.com/rancher/elemental-operator/compare/v0.4.1...v0.4.2)

> 29 July 2022

- Set a fixed name config for rke/k3s deployments [`#97`](https://github.com/rancher/elemental-operator/pull/97)
- Update elemental api resources for upgrades [`#95`](https://github.com/rancher/elemental-operator/pull/95)
- operator: fix adding machineInventoryLabels after initial registration [`b5c35b9`](https://github.com/rancher/elemental-operator/commit/b5c35b9d38368e111485ce72c03ea0de654e69e6)
- mend [`896efee`](https://github.com/rancher/elemental-operator/commit/896efee38f4363fc66ddff701bdc80edb05f375d)
- Drop unneeded code [`fe0c5ab`](https://github.com/rancher/elemental-operator/commit/fe0c5ab91480e3b182048d3c75dbb9905dc44376)

#### [v0.4.1](https://github.com/rancher/elemental-operator/compare/v0.4.0...v0.4.1)

> 27 July 2022

- Drop setting a custom providerID [`#91`](https://github.com/rancher/elemental-operator/pull/91)
- Bump rancher version [`#89`](https://github.com/rancher/elemental-operator/pull/89)

#### [v0.4.0](https://github.com/rancher/elemental-operator/compare/v0.3.0...v0.4.0)

> 22 July 2022

- Add a target to setup a clean cluster [`#79`](https://github.com/rancher/elemental-operator/pull/79)
- [register] Check for path error before doing anything [`#80`](https://github.com/rancher/elemental-operator/pull/80)
- Make /oem/registration the default configuration dir [`#81`](https://github.com/rancher/elemental-operator/pull/81)
- Add README to elemetal-operator helm chart [`#56`](https://github.com/rancher/elemental-operator/pull/56)
- Store registration yaml in installed system [`#71`](https://github.com/rancher/elemental-operator/pull/71)
- Do note fetch cloud-config on unauthenticated registartion calls [`#67`](https://github.com/rancher/elemental-operator/pull/67)
- ensure all the structs include proper yaml labels [`a7b0e9e`](https://github.com/rancher/elemental-operator/commit/a7b0e9e13ed5b5fd6389b4e096430c53d53f781c)
- add github.com/sanity-io/litter module [`ca0426e`](https://github.com/rancher/elemental-operator/commit/ca0426e7d8e4dc03b605853e1304739dc59640c2)
- elemental-operator register: add some more logging [`53d463d`](https://github.com/rancher/elemental-operator/commit/53d463dbafb7eb5f81eb474da5c6a6984a521a23)

#### [v0.3.0](https://github.com/rancher/elemental-operator/compare/v0.2.1...v0.3.0)

> 20 July 2022

- Adds support for cloud-config data in machine registration [`#61`](https://github.com/rancher/elemental-operator/pull/61)
- review elemental installer env vars [`#59`](https://github.com/rancher/elemental-operator/pull/59)
- ensure install struct includes proper yaml labels [`#57`](https://github.com/rancher/elemental-operator/pull/57)
- Pass debug flag to elemental client if requested [`#58`](https://github.com/rancher/elemental-operator/pull/58)
- Do not attempt to install in already installed systems [`#55`](https://github.com/rancher/elemental-operator/pull/55)

#### [v0.2.1](https://github.com/rancher/elemental-operator/compare/v0.2.0...v0.2.1)

> 15 July 2022

- Some fixes for the release pipelines [`#53`](https://github.com/rancher/elemental-operator/pull/53)

#### [v0.2.0](https://github.com/rancher/elemental-operator/compare/v0.1.1...v0.2.0)

> 15 July 2022

- Log the version, commit and commit date on start [`#43`](https://github.com/rancher/elemental-operator/pull/43)
- Remove obsolete logic from former ros-installer [`#45`](https://github.com/rancher/elemental-operator/pull/45)
- elemental-operator register: allow cacert passed as file or data [`#44`](https://github.com/rancher/elemental-operator/pull/44)
- Makefile: fix make build-docker [`#41`](https://github.com/rancher/elemental-operator/pull/41)
- Some register fixes [`#40`](https://github.com/rancher/elemental-operator/pull/40)
- elemental-operator register: add elemental cli call [`#38`](https://github.com/rancher/elemental-operator/pull/38)
- Fix building the operator/installer with emulatedTPM [`#39`](https://github.com/rancher/elemental-operator/pull/39)
- Return a Config.Config in MachineInventory [`#35`](https://github.com/rancher/elemental-operator/pull/35)
- Use cacert from rancher and use serverl-url from rancher [`#36`](https://github.com/rancher/elemental-operator/pull/36)
- Add test for chart values [`#31`](https://github.com/rancher/elemental-operator/pull/31)
- Share installation configuration structures [`#24`](https://github.com/rancher/elemental-operator/pull/24)
- bump github.com/docker/distribution to 2.8.1 [`#29`](https://github.com/rancher/elemental-operator/pull/29)
- Bump image-spec to 1.0.2 [`#28`](https://github.com/rancher/elemental-operator/pull/28)
- Bump system-agent to 0.2.8 [`#17`](https://github.com/rancher/elemental-operator/pull/17)
- Fix all the test, remove leftovers from transition [`#18`](https://github.com/rancher/elemental-operator/pull/18)
- Rename RancherOS to Elemental in installer logic [`#22`](https://github.com/rancher/elemental-operator/pull/22)
- Bump yip dependency [`#19`](https://github.com/rancher/elemental-operator/pull/19)
- Restore sync-namespaces [`7f6baef`](https://github.com/rancher/elemental-operator/commit/7f6baefb2a03dd5bf50e8a136e012d2c7f08f300)
- Fix go.sum [`0231b1d`](https://github.com/rancher/elemental-operator/commit/0231b1d91328c4b44d0cb6a097ab2dead590d807)
- Several fixes [`74301fa`](https://github.com/rancher/elemental-operator/commit/74301fa37bbbd448e9a0fbbdebb7bc48ff6653eb)

#### [v0.1.1](https://github.com/rancher/elemental-operator/compare/v0.0.0...v0.1.1)

> 7 July 2022

- Merge elemental installer [`#20`](https://github.com/rancher/elemental-operator/pull/20)

#### v0.0.0

> 4 July 2022

- renamed to elemental-operator and switched to system agent [`#3`](https://github.com/rancher/elemental-operator/pull/3)
- Fixup docs, rename to elemental in README [`#2`](https://github.com/rancher/elemental-operator/pull/2)
- various fixes and add e2e upgrades tests [`#28`](https://github.com/rancher/elemental-operator/pull/28)
- e2e-ci: move some functions to ele-testhelpers [`#21`](https://github.com/rancher/elemental-operator/pull/21)
- Requeue [`#26`](https://github.com/rancher/elemental-operator/pull/26)
- Custom sync [`#22`](https://github.com/rancher/elemental-operator/pull/22)
- Add OBS workflow to trigger rpm build [`#25`](https://github.com/rancher/elemental-operator/pull/25)
- Add owner reference on ManagedOSVersion [`#20`](https://github.com/rancher/elemental-operator/pull/20)
- Bump rancher version used in tests [`#15`](https://github.com/rancher/elemental-operator/pull/15)
- Add ManagedOSVersionChannel and skeleton for sync service [`#14`](https://github.com/rancher/elemental-operator/pull/14)
- ManagedOSVersion [`#10`](https://github.com/rancher/elemental-operator/pull/10)
- Allow to reuse the same cluster [`#8`](https://github.com/rancher/elemental-operator/pull/8)
- Drop integration tests, add e2e tests with kind [`#7`](https://github.com/rancher/elemental-operator/pull/7)
- Add upgradeContainerSpec to ManagedOS and update wrangler [`#66`](https://github.com/rancher/elemental-operator/pull/66)
- Add mtools to ros-image-build image [`#65`](https://github.com/rancher/elemental-operator/pull/65)
- CI: bootstrapping nodes with MachineRegistration [`#56`](https://github.com/rancher/elemental-operator/pull/56)
- ci: Split upload of testing artifacts [`#57`](https://github.com/rancher/elemental-operator/pull/57)
- Drop cos-* references [`#53`](https://github.com/rancher/elemental-operator/pull/53)
- Disable verify [`#50`](https://github.com/rancher/elemental-operator/pull/50)
- Do not require a container image or isoURL [`#48`](https://github.com/rancher/elemental-operator/pull/48)
- Add reboot flag [`#46`](https://github.com/rancher/elemental-operator/pull/46)
- docs: fix installation [`#47`](https://github.com/rancher/elemental-operator/pull/47)
- Use ros-operator image for the ros-operator chart [`#40`](https://github.com/rancher/elemental-operator/pull/40)
- Reduce framework image by copying only needed files [`#39`](https://github.com/rancher/elemental-operator/pull/39)
- Do not nullify the extra data from the config [`#36`](https://github.com/rancher/elemental-operator/pull/36)
- Consume upstream cloud-init configs [`#33`](https://github.com/rancher/elemental-operator/pull/33)
- Rework golangci-lint config and github CI [`#34`](https://github.com/rancher/elemental-operator/pull/34)
- Add containerImages as source [`#32`](https://github.com/rancher/elemental-operator/pull/32)
- Attach rancher ca-cert to sample cloud-init from ros-operator [`#27`](https://github.com/rancher/elemental-operator/pull/27)
- Enable TPM emulation [`#23`](https://github.com/rancher/elemental-operator/pull/23)
- Update cos [`#22`](https://github.com/rancher/elemental-operator/pull/22)
- Consume go-tpm in place of tpm in rancherd/os2 [`#21`](https://github.com/rancher/elemental-operator/pull/21)
- Cloud init fixups [`#14`](https://github.com/rancher/elemental-operator/pull/14)
- Add arm64 [`#3064`](https://github.com/rancher/elemental-operator/pull/3064)
- Cleanup after integrating changes into cOS [`#3`](https://github.com/rancher/elemental-operator/pull/3)
- Consume nerdctl and k9s from cos repos [`#2`](https://github.com/rancher/elemental-operator/pull/2)
- Rename JSON tag for sshAuthorizedKeys [`#5`](https://github.com/rancher/elemental-operator/issues/5)
- go gen [`c4c8aaa`](https://github.com/rancher/elemental-operator/commit/c4c8aaaa477fd1cfeb446628ce4b984c3a1d268e)
- tests: Add upgrades e2e test [`ff7c6d5`](https://github.com/rancher/elemental-operator/commit/ff7c6d500a3f26785095b8869b2800dff3a154fd)
- Implement Custom syncer [`e3488f8`](https://github.com/rancher/elemental-operator/commit/e3488f833be116a15cc337da1023d2042879c46c)
